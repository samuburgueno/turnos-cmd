(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t){e.exports="data:image/png;base64,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"},23:function(e,t,a){e.exports=a(41)},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(28);var o=a(6),i=a(7),l=a(10),u=a(9),m=a(11),d=a(43),p=a(44),v=a(22),A=a(42),b=a(20),f=a.n(b);a(29);function h(){document.getElementById("navbar-toggler").click()}var E=function(e){return r.a.createElement("div",{className:"layout"},r.a.createElement("header",null,r.a.createElement("div",{className:"navbar shadow-sm text-center navbar-expand-sm navbar-light"},r.a.createElement("div",{className:"container d-flex justify-content-between"},r.a.createElement("a",{href:"https://samuburgueno.github.io/turnos-cmd",className:"navbar-brand d-flex align-items-center"},r.a.createElement("img",{className:"img-responsive",src:f.a,alt:"Logo de Rosario= "})),r.a.createElement("button",{id:"navbar-toggler",className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"main row"},r.a.createElement("div",{className:"sidebar-left col-sm-3"},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(A.a,{onClick:function(){return h()},to:"/distrito/norte",className:"nav-item"},"Norte"),r.a.createElement(A.a,{onClick:function(){return h()},to:"/distrito/noroeste",className:"nav-item"},"Noroeste"),r.a.createElement(A.a,{onClick:function(){return h()},to:"/distrito/centro",className:"nav-item"},"Centro"),r.a.createElement(A.a,{onClick:function(){return h()},to:"/distrito/oeste",className:"nav-item"},"Oeste"),r.a.createElement(A.a,{onClick:function(){return h()},to:"/distrito/sur",className:"nav-item"},"Sur"))),r.a.createElement("div",{className:"d-none d-sm-block nav flex-column nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},r.a.createElement("h5",null,r.a.createElement("strong",null,"Distritos")),r.a.createElement(A.a,{to:"/distrito/norte",className:"nav-link"},"Norte"),r.a.createElement(A.a,{to:"/distrito/noroeste",className:"nav-link"},"Noroeste"),r.a.createElement(A.a,{to:"/distrito/centro",className:"nav-link"},"Centro"),r.a.createElement(A.a,{to:"/distrito/oeste",className:"nav-link"},"Oeste"),r.a.createElement(A.a,{to:"/distrito/sur",className:"nav-link"},"Sur"))),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"main-content col-sm-12 col-md-8"},e.children),r.a.createElement("div",{className:"sidebar-right d-none d-md-block col-md-4"}))))))},g=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"P\xe1gina principal"))}}]),t}(n.Component),N=a(3),O=a.n(N),k=a(8);var y=function(e){return r.a.createElement("div",{className:"distrito"},e.children)};a(35);var w=function(e){return r.a.createElement("div",{className:"distrito-header shadow-sm rounded"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"mt-0 mb-1"},e.title),r.a.createElement("p",null,e.description)),r.a.createElement("div",{className:"btn btn-primary align-self-center"},"Filtrar")))};var x=function(e){return r.a.createElement("div",{className:"turnos-list"},e.children)},j=a(15);a(36);var C=function(e){return r.a.createElement(j.a,{to:"/distrito/".concat(e.distrito,"/").concat(e.CodigoOficina),title:"Ver detalle de la oficina ".concat(e.Oficina),className:"turno turno-".concat(e.Ticket)},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-body mr-3"},r.a.createElement("h5",{className:"mt-0 mb-1"},e.Oficina),e.Llamados&&2===e.Llamados&&r.a.createElement("span",{class:"badge badge-warning text-uppercase text-secondary"},e.Llamados,"\xb0 llamado"),e.Llamados&&3===e.Llamados&&r.a.createElement("span",{class:"badge badge-danger text-uppercase text-white"},e.Llamados,"\xb0 llamado")),r.a.createElement("div",{className:"ticket align-self-center"},r.a.createElement("span",{className:"turno"},e.Turno),r.a.createElement("span",{className:"label"},"Turno")),r.a.createElement("div",{className:"arrow-icon align-self-center"})))};var M=function(e){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Cargando...")))},L=a(12),B=a.n(L),S=(a(38),"https://datos.rosario.gob.ar/api/"),J={norte:"9867ebdb-b372-4c7e-8fe1-eb1c74173483",centro:"67956927-a87d-4560-9537-27aba13226e4"};function X(e,t){return e.reduce(function(e,a){var n=a[t];return e[n]=e[n]||[],e[n].push(a),e},{})}var V=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getDataset",value:function(){var e=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()("".concat(S,"3/action/package_show?id=").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getResource",value:function(){var e=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()("".concat(S,"action/datastore/search.json?resource_id=").concat(J[t]));case 2:if(200!==(a=e.sent).status){e.next=10;break}return e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.abrupt("return",{error:a.status,message:a.statusText});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getUltimosAtendidos",value:function(){var e=Object(k.a)(O.a.mark(function e(t){var a,n,r,c,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()("".concat(S,"action/datastore/search.json?resource_id=").concat(J[t],"&limit=300"));case 2:if(200!==(a=e.sent).status){e.next=13;break}return e.next=6,a.json();case 6:for(s in n=e.sent,r=X(n.result.records,"CodigoOficina"),c=[],r)c.push(r[s][0]);return e.abrupt("return",c);case 13:return e.abrupt("return",{error:a.status,message:a.statusText});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getTurnosByOficina",value:function(){var e=Object(k.a)(O.a.mark(function e(t){var a,n,r,c=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:[],e.next=3,B()("".concat(S,"action/datastore/search.json?resource_id=").concat(J[t],"&filters[CodigoOficina]=").concat(a));case 3:if(200!==(n=e.sent).status){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.abrupt("return",{error:n.status,message:n.statusText});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getOficina",value:function(){var e=Object(k.a)(O.a.mark(function e(t,a){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()("https://ws.rosario.gob.ar/ubicaciones/public/geojson/ubicaciones/all/all/".concat(t,"%20").concat(a,"?extendido=true"));case 2:if(200!==(n=e.sent).status){e.next=10;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.abrupt("return",{error:n.status,message:"Servicio no disponible"});case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={distrito:!1,turnos:[],cargando:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.obtenerTurnos(this.props.match.params.distrito)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.distrito!==this.state.distrito&&this.obtenerTurnos(e.match.params.distrito)}},{key:"obtenerTurnos",value:function(){var e=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({cargando:!0}),a=new V,e.next=4,a.getUltimosAtendidos(t);case 4:(n=e.sent).error?this.setState({error:n.message,turnos:!1,distrito:t,cargando:!1}):(n.sort(function(e,t){return e.Oficina<t.Oficina?-1:1}),this.setState({turnos:n,distrito:t,cargando:!1}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.cargando?r.a.createElement(y,null,r.a.createElement(M,null)):r.a.createElement(y,null,r.a.createElement(w,{title:"Distrito ".concat(this.state.distrito),description:"Oficinas de atenci\xf3n al p\xfablico"}),!this.state.turnos&&r.a.createElement("div",null,r.a.createElement("h5",null,"Ups! ",r.a.createElement("br",null)),r.a.createElement("h6",null,"Parece que el distrito no est\xe1 atendiendo en este momento.")),this.state.turnos&&r.a.createElement(x,null,this.state.turnos.map(function(t){return r.a.createElement(C,Object.assign({key:t.Ticket+t.FechaHora,distrito:e.state.distrito},t))})))}}]),t}(n.Component),R=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/turnos-cmd"},r.a.createElement(E,null,r.a.createElement(p.a,null,r.a.createElement(v.a,{exact:!0,path:"/",component:g}),r.a.createElement(v.a,{exact:!0,path:"/distrito/:distrito",component:U}),r.a.createElement(v.a,{component:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Pagina no entontrada"))}}))))}}]),t}(n.Component);s.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.5ed3f2c1.chunk.js.map
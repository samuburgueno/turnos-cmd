(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS4AAAAzCAMAAAAeoRWAAAAAolBMVEUAAAAAru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru8Aru85GSvKAAAANXRSTlMAUPHRYLBwIJAw/BChAuAJDOQV6szBvPicgQWpl3juGFtFVkC3iTk0fCzXJkr0Ix3cZ8dsUsEWJA8AAAeDSURBVGje7NnbcqowGIbhv24AUUAEtwhqFayiqHV9939rawOEaAJ2pmXGrulzqM4EXpMASv8LdeIg6CVUM7cpNWxP/F8L+jaiAH8d11QvVDm/fZNifRupoEu1QjU97NM3cEXOp1rhEXNLz6+HXJtqhYeOa3p6HnIbqhUea8T07KbIhVQrHY+9G/TkEh0pfUe1e0PmrKT8sG2D80rPTkHqjeqnyPbJqA3Gpae3tAE4LaqZmItp6cgl9PSM7UtkUP3EXOIG2qIfD3P1A2Tm9ONhLup9zc2ferhOw6nyK376K+zncrE3hiQxW/ueawaO+d7zy7eN9cRGzp5vScKIrvNR02w45+HkkpBgoaZOFjFG5xpqPv01UAsLkrFW0/RIhz2lY9SWa1lxadxOAnCcSUcay8WtTXzfauUF4LlLg26BaS6z87+aANCgP2LwIhKsvSM4tpbUnWskxBpBMBKCzTQIxi3izC4mBM2dPBe76HTOAMvVAe+F7qxcCLyk3sXo0Q1Lg5RmEc/wIDMlZmVCZnwozWUT0WGMj+YaePIBfKPOrf6NeGoTJZon4kwhd2G1UEKPynJhQdEYH83VsVFi1P3yXDMHmQNxdg5K2Qkx8Rhy7MHOslHC7pblUrs2PpprfUSp5uCrc13YYVlUUG1UsFXKaWCO7vDdkTyzt1AmLM01x0dzbRuo0OwL21zrgWVVrjhApkcFywXn7GmatwfHZWlN9tLqX55OT3hmN/bZJ8LXKN4dQm7i9Im5KorSRmal3+WaXRTFNyW5BvZNnZ6meSY4bYNuNfFIRa61g4weUyEEM9ayN5JwLM6LPjJ76+43Yn3OltoLAGfKZmR/IhS9n4dtFALKaZJcba7r9JRtJBOu9uWrcvXj1giMRoVdMZybEKMOhZ1JlayrfzU2OyoMG75FBYMNOynJpaehtEPSHSyqch3AbBbE7PZFxMHnc/V1YZFbJPvKNhZxZm3cRVclS7kbYH8g3mlBNyI2qphL/MOlIpdRnPzcIE73Hbnw87m6uHM+UUEVIrJeLnLp2rJ0yV3BqzKjSkaA1PF37WbamCgMhOFRyy5yKsghhyK6ile1tvn/f2276uZgAlKbvp8qpjJ5MjOZCdqMy6BMWnAt2braIMhz2BamHFfooVJKfsq7p25Z1e5+fLHhkbDNo0ZcJXTAZeGQw+VeoRiX/y7OdMJSC1Jc6zArLp5fXOgomgS9JlwWdMBl+2zxkGiCTNXiyvhZColtA0gb6nk3x/D41rlvLdtcbLR+qbJUC4MgEkMa44rmXXBtqTGS4SX1BuQL38JlNRHxQSK/xrKsVbD6EGQyCwu1ji24LGjFVSdykS2OIXXh0/CBthiXu/ObO9ai9emnVk8JOdpkX1CmX6fUn7rhWnTCVXFVEBYtJtYKmqDNgHmEK2+LMpAoQ/VfOSM1OeICnCjirriMpBOuP61fmlhR9gpwgXkmwt3wSL3V5l/sIDRFGDQTqA4z8lVcA2jHhWxpjYOeClywYSl6/pR3MQ1Tg4ja0Y8shbdmk5VlWf4DXBYo8K5QjXfhooDE0i0lbDWiFANuWsvkk3s8bY9sVeLyDlF7gEvvhivn7Mei0bNRg2vOZjLkXYVOzwYku8/+RZS9jPuEU1UrsYwpq0kvD3BNu+HqtQWvR6S18LD3QAuMC21qgwSo3Ah7MS6WIxeQ3CIg3OmMWKcdgGmsBtcregIvyymOqgMc90xkeSrAQ3H+DECq9URsY6ay+NoTNbjAwZ+Ou+9YFS44oNgRhpIlokHQZuRlQQJMyUo4CljJEshUES52JdpDTQUrK5XhgpRQ6QkFYNCKzGvq8w3vTifvs9mJrmMJPccJfc9AAa4hOt/Fp8R+ogIXPrudbFCxQAZzYfSlHry9M1pAW8A1kJTWGVGFizkvCYWE/oqKSiW4YGkQplVxo3OKWMV/4MY6rAU+XfEF/32tkGwGupAHdRQmKnBtuEpvAyBpNMajp3DlGBfDyHR0vNrF8ON6Q7dHV5JmLtNnPfFvdPpfCLVd9N+93o1v4/rgrzGlB/fWzV9QQ/wlXDvHcY4063y+2LnohsIMbB4NMXZBMBBq85WNHMUIq6JX5gG7MBdHRLkHkCxCwutfiX911CT+/ItO5fz5Ik4QLv7t+1bjCtOPBkGwEyzN4Ou4CJIJVHaGcYHZ+qkDE9UVWOktrfOl63gXEazl9YbNNsoX1un0RDRkzLuXqe2m2BXGBd6g07Nh0yEN6v9mhyxYkTJc8Oq00HLhCT0ypezjdDJqdByNT557n/DCTyaSiYzlpv8ErlyKC+YX0qAsgZ/ABadQkn3f+lKvebOB1+tO6j0lmw0ecN5C9gSuvSHFBUkVEYnGPQC1uJh6O4QLPP2IMOgeOuTNDFLXZQtMpib5xdZ8/HVcUIm4mH5byIbZdARPyu/X5OOYthfpEe3t5nsgUPhlgkRbS8S6OtggiN8Onem9tkvHN1tmw+sO18VGKCaz/l0aCJpXfNAb4ZsLP61k/f7HimuLYh7yWAtDLc4PJjTJ/dADPyLkOA6ywgOsU6mn4SrVX7bwY/J6VawFoZblixF8Q38B2NZgkGjHQtIAAAAASUVORK5CYII="},22:function(e,t,a){e.exports=a(40)},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(17),c=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(27);var o=a(6),i=a(7),u=a(10),l=a(9),m=a(11),d=a(41),A=a(42),p=a(20),h=a(43),v=a(18),f=a.n(v);a(28);var b=function(e){return n.a.createElement("div",{className:"layout"},n.a.createElement("header",null,n.a.createElement("div",{className:"navbar shadow-sm text-center"},n.a.createElement("div",{className:"container d-flex justify-content-between"},n.a.createElement("a",{href:"https://samuburgueno.github.io/turnos-cmd",className:"navbar-brand d-flex align-items-center"},n.a.createElement("img",{className:"img-responsive",src:f.a,alt:"Logo de Rosario= "}))))),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"main row"},n.a.createElement("div",{className:"sidebar-left col-sm-3 d-none d-sm-block"},n.a.createElement("div",{className:"nav flex-column nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},n.a.createElement("h5",null,n.a.createElement("strong",null,"Distritos")),n.a.createElement(h.a,{to:"/distrito/norte",className:"nav-link"},"Norte"),n.a.createElement(h.a,{to:"/distrito/noroeste",className:"nav-link"},"Noroeste"),n.a.createElement(h.a,{to:"/distrito/centro",className:"nav-link"},"Centro"),n.a.createElement(h.a,{to:"/distrito/oeste",className:"nav-link"},"Oeste"),n.a.createElement(h.a,{to:"/distrito/sur",className:"nav-link"},"Sur"))),n.a.createElement("div",{className:"col-sm-9"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"main-content col-sm-8"},e.children),n.a.createElement("div",{className:"sidebar-right col-sm-4"}))))))},E=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h4",null,"P\xe1gina principal"))}}]),t}(r.Component),O=a(5),N=a.n(O),k=a(8);var g=function(e){return n.a.createElement("div",{className:"distrito"},e.children)};a(34);var y=function(e){return n.a.createElement("div",{className:"distrito-header"},n.a.createElement("div",{className:"media"},n.a.createElement("div",{className:"media-body"},n.a.createElement("h5",{className:"mt-0 mb-1"},e.title),n.a.createElement("p",null,e.description)),n.a.createElement("div",{className:"btn btn-primary align-self-center"},"Filtrar")))};var w=function(e){return n.a.createElement("div",{className:"turnos-list"},e.children)};a(35);var j=function(e){return n.a.createElement("div",{className:"turno turno-".concat(e.Ticket)},n.a.createElement("div",{className:"media"},n.a.createElement("div",{className:"media-body"},n.a.createElement("h5",{className:"mt-0 mb-1"},e.Oficina),e.Llamados&&e.Llamados>1&&n.a.createElement("div",{className:"alert alert-warning mr-3",role:"alert"},n.a.createElement("small",null,"Este turno fu\xe9 llamado mas de 1 vez"))),n.a.createElement("div",{className:"ticket align-self-center"},n.a.createElement("span",{className:"turno"},e.Turno),n.a.createElement("span",{className:"label"},"Turno"))))},M=a(12),x=a.n(M),C=(a(37),"https://datos.rosario.gob.ar/api/"),B={norte:"9867ebdb-b372-4c7e-8fe1-eb1c74173483",centro:"67956927-a87d-4560-9537-27aba13226e4"};function J(e,t){return e.reduce(function(e,a){var r=a[t];return e[r]=e[r]||[],e[r].push(a),e},{})}var L=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getDataset",value:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()("".concat(C,"3/action/package_show?id=").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getResource",value:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()("".concat(C,"action/datastore/search.json?resource_id=").concat(B[t]));case 2:if(200!==(a=e.sent).status){e.next=10;break}return e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.abrupt("return",{error:a.status,message:a.statusText});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getUltimosAtendidos",value:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,r,n,s,c;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()("".concat(C,"action/datastore/search.json?resource_id=").concat(B[t],"&limit=300"));case 2:if(200!==(a=e.sent).status){e.next=13;break}return e.next=6,a.json();case 6:for(c in r=e.sent,n=J(r.result.records,"CodigoOficina"),s=[],n)s.push(n[c][0]);return e.abrupt("return",s);case 13:return e.abrupt("return",{error:a.status,message:a.statusText});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getTurnosByOficina",value:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,r,n,s=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:[],e.next=3,x()("".concat(C,"action/datastore/search.json?resource_id=").concat(B[t],"&filters[CodigoOficina]=").concat(a));case 3:if(200!==(r=e.sent).status){e.next=11;break}return e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.abrupt("return",{error:r.status,message:r.statusText});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={distrito:!1,turnos:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.obtenerTurnos(this.props.match.params.distrito)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.distrito!==this.state.distrito&&this.obtenerTurnos(e.match.params.distrito)}},{key:"obtenerTurnos",value:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new L,e.next=3,a.getUltimosAtendidos(t);case 3:(r=e.sent).error?this.setState({error:r.message,turnos:!1,distrito:t}):this.setState({turnos:r,distrito:t});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(g,null,n.a.createElement(y,{title:"Distrito ".concat(this.state.distrito),description:"Oficinas de atenci\xf3n al p\xfablico"}),!this.state.turnos&&n.a.createElement("div",null,n.a.createElement("h5",null,"Ups! ",n.a.createElement("br",null)),n.a.createElement("h6",null,"Parece que el distrito no est\xe1 atendiendo en este momento.")),this.state.turnos&&n.a.createElement(w,null,this.state.turnos.map(function(e){return n.a.createElement(j,Object.assign({key:e.Ticket+e.FechaHora},e))})))}}]),t}(r.Component),S=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(d.a,{basename:"/turnos-cmd"},n.a.createElement(b,null,n.a.createElement(A.a,null,n.a.createElement(p.a,{path:"/",exact:!0,component:E}),n.a.createElement(p.a,{path:"/distrito/:distrito",component:X}))))}}]),t}(r.Component);c.a.render(n.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.46cc13d2.chunk.js.map